<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Phật dạy Con làm theo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" >
    <link rel="stylesheet" href="style.css" >

    <link rel="stylesheet" href="/widgets/style.css">
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Weather Widget: Top of Page -->
<div id="weather-widget" style="background:#fdf6e3; padding:10px; text-align:center; font-family:sans-serif; position:fixed; top:0; left:0; right:0; z-index:9999; box-shadow:0 2px 4px rgba(0,0,0,0.2);">
  <span id="weather-info">Đang tải thông tin thời tiết...</span>
</div>

<script>
  async function getWeather(lat, lon) {
    const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
    const data = await res.json();
    const weather = data.current_weather;
    document.getElementById("weather-info").innerText =
      `Thời tiết tại vị trí của bạn: ${weather.temperature}°C, ${weather.weathercode === 0 ? 'Trời quang' : 'Trạng thái khác'}`;
  }

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      (position) => getWeather(position.coords.latitude, position.coords.longitude),
      () => document.getElementById("weather-info").innerText = "Không thể lấy vị trí để dự báo thời tiết."
    );
  } else {
    document.getElementById("weather-info").innerText = "Trình duyệt không hỗ trợ định vị.";
  }
</script>
    
    <button onclick="readArticle()"><br> ĐỌC NỘI DUNG TRANG</button>
<div id="output"></div>

<script>
  function readArticle() {
    // Đây là một ví dụ cơ bản: lấy tất cả đoạn <p>
    const paragraphs = Array.from(document.querySelectorAll("p"));
    const text = paragraphs.map(p => p.innerText).join("\n\n");

    // Hiển thị ra div (hoặc xử lý tiếp)
    document.getElementById("output").innerText = text;
  }
</script>
    
<button onclick="speakArticle()">NGHE NỘI DUNG TRANG</button>

<script>
  function speakArticle() {
    const text = Array.from(document.querySelectorAll("p"))
      .map(p => p.innerText)
      .join(". ");

    const speech = new SpeechSynthesisUtterance(text);
    speech.lang = 'vi-VN'; // Tiếng Việt
    window.speechSynthesis.speak(speech);
  }
</script>

    !<audio controls autoplay=1 loop=1>
      <source src="nhac-nen.mp3" type="audio/mpeg" />
      Trình duyệt không hỗ trợ audio.
    </audio>

    <div class="player">
    <h2>🎵 Nhạc Thiền Phật Giáo</h2>
    <select class="track-select" id="trackList" onchange="changeTrack()">
      <option value="https://example.com/nhac/nhac-nen-1.mp3">1. Gió Thiền</option>
      <option value="https://example.com/nhac/nhac-nen-2.mp3">2. Chuông Tĩnh Lặng</option>
      <option value="https://example.com/nhac/nhac-nen-3.mp3">3. Sen Nở Trong Tâm</option>
      <option value="https://example.com/nhac/nhac-nen-4.mp3">4. Mây Trắng Vô Ưu</option>
      <option value="https://example.com/nhac/nhac-nen-5.mp3">5. Thiền Trong Gió</option>
      <option value="https://example.com/nhac/nhac-nen-6.mp3">6. Tịnh Tâm Ban Sớm</option>
      <option value="https://example.com/nhac/nhac-nen-7.mp3">7. Chuông Xa Vọng</option>
      <option value="https://example.com/nhac/nhac-nen-8.mp3">8. Suối Nguồn Hơi Thở</option>
      <option value="https://example.com/nhac/nhac-nen-9.mp3">9. Đêm Tịch Lặng</option>
      <option value="https://example.com/nhac/nhac-nen-10.mp3">10. Hương Trầm Nhẹ Bay</option>
    </select>

    <audio id="audioPlayer" controls autoplay loop>
      Trình duyệt của bạn không hỗ trợ audio.
    </audio>
  
  </div>
  <script>
    const player = document.getElementById("audioPlayer");
    const trackList = document.getElementById("trackList");

    // Tự động set bài đầu tiên
    player.src = trackList.value;
    player.play();

    // Thay đổi bài khi chọn
    function changeTrack() {
      player.src = trackList.value;
      player.play();
    }

    // Tự động phát bài kế tiếp (tuần hoàn)
    trackList.addEventListener('change', () => {
      player.src = trackList.value;
      player.play();
    });

    player.addEventListener("ended", function () {
      let nextIndex = (trackList.selectedIndex + 1) % trackList.length;
      trackList.selectedIndex = nextIndex;
      player.src = trackList.value;
      player.play();
    });
  </script>

    <nav
    <div class="hero">
      <h1><strong>Phật dạy<br> Con làm theo</strong></h1>
    </div>
    <hr>
      <p class="subtitle">
        <h3><strong>Chia sẻ Phật pháp, Ăn chay, Đạo làm người và Lời hay ý đẹp.</strong></h3></p>
    <div 
      class="circle-menu">
        <a href="gioi-thieu.html" title="Giới Thiệu">📜
        </a>
        <a href="video.html" title="Video">🎥
        </a>
        <a href="bai-viet.html" title="Bài Viết">📖
        </a>
        <a href="https://www.youtube.com/@PhatdayConlamtheo" class="center" title="Đăng Ký Kênh YouTube" target="_self">🔔
        </a>
        <a href="tu-sach.html"title="Tủ Sách">📚
        </a>
        <a href="goc-thien.html" title="Góc Thiền">🧘
        </a>
        <a href="tai-mp3.html" title="Tải MP3">🎧
        </a>
    </div>
    <section class="video-section">
      <h2>🎥 XEM VIDEO MỚI NHẤT</h2>
    <div class="video-row">
    <div class="video-box">


  <h2>🎼 Giao hưởng YouTube - Âm thanh cho tâm hồn</h2>

  <!-- 🎬 Danh sách video (bạn chỉ cần thêm data-video-id là được!) -->
  <div class="video-block" data-player-id="yt1" data-video-id="NpVbP2aMKH4">
    <iframe id="yt1"></iframe>
    <br>
    <button class="mute-toggle">🔇 Tắt tiếng</button>
  </div>

  <div class="video-block" data-player-id="yt2" data-video-id="e3uG3NOH0BU">
    <iframe id="yt2"></iframe>
    <br>
    <button class="mute-toggle">🔇 Tắt tiếng</button>
  </div>

  <div class="video-block" data-player-id="yt3" data-video-id="V-TQ5N9ONdU">
    <iframe id="yt3"></iframe>
    <br>
    <button class="mute-toggle">🔇 Tắt tiếng</button>
  </div>
  
  <div class="video-block" data-player-id="yt4" data-video-id="kz9Dcd5qszY">
    <iframe id="yt4"></iframe>
    <br>
    <button class="mute-toggle">🔇 Tắt tiếng</button>
  </div>

  <!-- ⚙️ Điều chỉnh tốc độ fade -->
  <div class="fade-speed">
    ⏱️ Tốc độ fade âm lượng:
    <input id="fade-speed" type="range" min="100" max="1000" value="200">
    <span id="fade-val">200 ms</span>
  </div>

  <script>
    const players = {};
    let fadeSpeed = 200;

    // Cập nhật slider tốc độ
    const fadeSlider = document.getElementById('fade-speed');
    const fadeVal = document.getElementById('fade-val');
    fadeSlider.addEventListener('input', () => {
      fadeSpeed = parseInt(fadeSlider.value);
      fadeVal.textContent = `${fadeSpeed} ms`;
    });

    // Tải API YouTube
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);

    // Sau khi API đã sẵn sàng
    function onYouTubeIframeAPIReady() {
      document.querySelectorAll('.video-block').forEach(block => {
        const playerId = block.dataset.playerId;
        const videoId = block.dataset.videoId;
        const iframe = block.querySelector('iframe');
        const button = block.querySelector('.mute-toggle');

        // Gán src cho iframe
        iframe.src = `https://www.youtube.com/embed/${videoId}?enablejsapi=1&autoplay=1&mute=1&loop=1&playlist=${videoId}&controls=0&rel=0&modestbranding=1`;

        // Khởi tạo player
        players[playerId] = new YT.Player(playerId, {
          events: {
            onReady: () => setupPlayerShared(playerId, iframe, button)
          }
        });
      });
    }

    function setupPlayerShared(playerId, iframe, button) {
      const player = players[playerId];
      const key = `muteState_${playerId}`;
      const saved = localStorage.getItem(key);

      if (saved === 'unmuted') {
        player.unMute();
        fadeIn(player);
        iframe.classList.remove('blurred');
        button.textContent = '🔊 Đang phát tiếng';
      } else {
        player.mute();
        iframe.classList.add('blurred');
        button.textContent = '🔇 Tắt tiếng';
      }
      button.addEventListener('click', () => {
        if (player.isMuted()) {
          player.unMute();
          fadeIn(player);
          iframe.classList.remove('blurred');
          button.textContent = '🔊 Đang phát tiếng';
          localStorage.setItem(key, 'unmuted');
        } else {
          fadeOut(player, () => {
            player.mute();
            iframe.classList.add('blurred');
            button.textContent = '🔇 Tắt tiếng';
            localStorage.setItem(key, 'muted');
          });
        }
      });
    }

    function fadeIn(player) {
      let vol = 0;
      player.setVolume(vol);
      const fade = setInterval(() => {
        if (vol < 100) {
          vol += 10;
          player.setVolume(vol);
        } else {
          clearInterval(fade);
        }
      }, fadeSpeed);
    }

    function fadeOut(player, callback) {
      let vol = player.getVolume();
      const fade = setInterval(() => {
        if (vol > 0) {
          vol -= 10;
          player.setVolume(vol);
        } else {
          clearInterval(fade);
          callback();
        }
      }, fadeSpeed);
    }
  </script>
  
      
  
    
   
    
    <!-- News Ticker: Bottom of Page -->
<div id="news-ticker" style="position:fixed; bottom:0; left:0; right:0; background:#222; color:#fff; padding:10px; font-family:sans-serif; overflow:hidden; z-index:9999;">
  <marquee behavior="scroll" direction="left" id="news-content">Đang tải tin tức...</marquee>
</div>

<script>
  async function fetchNews() {
    const rssUrl = "https://vnexpress.net/rss/tin-moi-nhat.rss"; // hoặc link RSS khác
    const response = await fetch("https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(rssUrl));
    const data = await response.json();
    if (data.status === "ok") {
      const titles = data.items.slice(0, 5).map(item => item.title).join(" ❖ ");
      document.getElementById("news-content").innerText = titles;
    } else {
      document.getElementById("news-content").innerText = "Không thể tải tin tức.";
    }
  }

  fetchNews();
</script>
    
    class="more-videos">
      <h2>📺 XEM THÊM VIDEO MỚI</h2>
        <h3>
          <ul>
            <li>
              <a href="https://youtu.be/e3uG3NOH0BU?si=5OKEYa4Mk8sh1sU3" target="_self">🌸 KHONG AI GIEO KHO CHO TA NGOAI CHINH MINH 
              </a>
            </li>
          </ul>
        </h3>
        <h3>
          <ul
            <li>
              <a href="https://www.youtube.com/watch?v=LINK2" target="_blank">🌸 Lời mẹ dạy con theo ánh sáng Phật
              </a>
            </li>
          </ul>
        </h3>
        <h3>
          <ul
            <li>
              <a href="https://www.youtube.com/watch?v=LINK3" target="_blank">🌸 Thiền định buông xả – Giọng đọc trầm ấm
              </a>
            </li>
          </ul>
        </h3>
    </div>
    <section>
      <h2>📺 VIDEO GẦN ĐÂY</h2>
    <div>
      <a href="https://www.youtube.com/watch?v=e3uG3NOH0BU" target="_blank">
        <img src="thumbnail1.jpg" alt="Video 1" style="width: 100%; border-radius: 10px;">
        <h3><p><strong>Minh và Vô Minh trong Khổ Đế</strong></p>
        </h3>
      </a>
    </div>
    <div>
      <a href="#" target="_blank">
        <img src="thumbnail2.jpg" alt="Video 2" style="width: 100%; border-radius: 10px;">
        <h3><p><strong>Hành trình về Đất Phật – Sư Minh Tuệ</strong></p>
        </h3>
      </a>
    </div>
    </section>
    <section>
    <div>
      <a class="button" href="video.html">
      <h2>📺 XEM TẤT CẢ CÁC VIDEO TRÊN KÊNH PHẬT DẠY CON LÀM THEO</h2></a>
        </div>
    </section>
    <section>
      <h2>📝 BÀI VIẾT MỚI NHẤT</h2>
    <div class="article">
      <h3>
        <p><strong>📝 Ai giữ được tâm thanh, người ấy đã bước vào cõi Phật</strong></p>
      </h3>
      <h3>
        <p><strong>
        Có những som mai, ta thức dậy trong yên bình, lòng nhẹ như mây, chẳng bị cuốn vào những vòng xoáy hơn thua. Cũng có những buổi chiều, tiếng chuông chùa ngân xa, vọng vào hồn ta một điều giản dị: Tâm an thì cảnh an.</strong></p>
      </h3>
      <h3>
        <p><strong>
        Trong thế gian này, có biết bao nhiêu điều khiến tâm ta rung động, bất an – từ một lời nói, một ánh nhìn, cho đến những tổn thương cũ kỹ nằm im trong ký ức. Nhưng Đức Phật đã dạy: “Tâm là gốc. Nếu tâm an thì mọi pháp đều an.”</strong></p>
      </h3>
      <h3>
        <p><strong>
        Cõi Phật không phải ở đâu xa. Người nào giữa đời sống đầy biến động mà giữ được nội tâm sáng trong, không khởi sân si, không vọng cầu danh lợi – người ấy đã bước vào cõi Phật giữa nhân gian.</strong></p>
      </h3>
      <h3>
        <p><strong>
        Giữ tâm thanh không dễ, nhưng từng hơi thở chánh niệm, từng hành động tỉnh thức, từng lời nói nhu hòa… đều là bước chân trên con đường trở về với chính mình.</strong></p>
      </h3>
      <h3>
        <p><strong>
        Hãy bắt đầu từ hôm nay, từ giây phút này: Hãy giữ tâm thanh.</strong></p>
      </h3>
    </div>
    </section>
    <section>
      <h2>💬 CHIA SẺ TỪ NGƯỜI XEM</h2>
    <div>
        <h3>🧘‍♀️<p><em><strong>“Mỗi lời đọc như chạm vào tâm. Cảm ơn kênh đã thắp sáng cho con một ngọn đèn trong đêm dài.”</strong></em></p>
        </h3>
        <h3>🌿<p><em><strong>“Không giáo điều, không cao siêu, chỉ là những điều giản dị mà sâu sắc. Cảm ơn vì đã lan tỏa đạo Phật đúng cách.”</strong></em></p>
        </h3>
        <h3>🙏<p><em><strong>“Con thấy lòng mình lặng xuống mỗi lần nghe lời dẫn từ kênh. Nguyện học theo từng bước một.”</strong></em></p>
        </h3>
    </div>
    </section>
    <section>
      <h2>📩KẾT NỐI CÙNG CHÚNG TÔI</h2>
        <h3>
          <p><strong>
        Nếu bạn có điều muốn chia sẻ, có những trăn trở tâm linh chưa tìm được lời giải,<br>
        hoặc đơn giản chỉ là muốn gửi lời chào bình an – hãy kết nối cùng chúng tôi qua:</strong></p>
        </h3>
          <h4>📧 Email:<strong>thanhcao197550@gmail.com</strong>
          </h4>
        <h3>🌐 YouTube: <a href="https://www.youtube.com/@phatdayconlamtheo" target="_blank"><strong>Phật dạy Con làm theo</strong></a>
        </h3>
  </section>
  <hr>
  <footer>
    <h3>
      <p><strong>© 2025 Phật dạy Con làm theo – Tâm lành gieo hạt, lời Phật thắp sáng</strong></p>
    </h3>
    </footer>
      <script src="/widgets/weather-widget.js"></script>
<script src="/widgets/news-ticker.js"></script>
  </body>
</html>
